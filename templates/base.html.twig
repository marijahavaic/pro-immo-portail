<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>
			{% block title %}Pro Immo Portail
			{% endblock %}
		</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
		<link rel="icon" href={{asset('images/pro_immo_portail-favicon.png')}} type="image/x-icon">
		{% block stylesheets %}
			{{ encore_entry_link_tags('app') }}
		{% endblock %}
		{% block javascripts %}
			{{ encore_entry_script_tags('app') }}
		{% endblock %}

		<link rel="stylesheet" href={{asset('css/index.css')}}>
	</head>

	<body>
		<nav class="navbar navbar-expand-sm navbar-light bg-light" aria-label="Third navbar example">
			<div class="container-fluid">
				<a class="navbar-brand" href="{{ path('app_home') }}"><img src={{ asset('images/pro-immo-portail_logo.png') }} alt="Logo" class="img-fluid w-25"/></a>
				<button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsExample03" aria-controls="navbarsExample03" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div
					class="navbar-collapse collapse me-auto justify-content-end" id="navbarsExample03">
					{# Dropdown menu accessible to authenticated users only #}
					{% if is_granted('IS_AUTHENTICATED_FULLY') %}
						<div class="dropdown text-end">
							<div class="mx-3">
								<p>Vous êtes connecté.e en tant que:</p>
								<strong class="d-block link-body-emphasis text-decoration-none dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">{{app.user.firstName}}</strong>
								{% if is_granted('ROLE_ADMIN') %}
									<ul class="dropdown-menu me-auto">
										<li>
											<a class="dropdown-item" href={{ path('admin')}} class="nav-link active">Dashboard</a>
										</li>
									{% endif %}
									{% if is_granted('ROLE_PRO') %}
										<li>
											<a class="dropdown-item" href={{ path('app_property_new')}} class="nav-link active">Déposer une nouvelle annonce</a>
										</li>
									{% endif %}
									<li>
										<a class="dropdown-item" href={{ path('app_reset_password')}} class="nav-link active">Changer mon mot de passe</a>
									</li>
									<li class="nav-item">
										<a class="dropdown-item" href={{ path('app_logout')}} class="nav-link active">Déconnexion</a>
									</li>
								</div>
							{% else %}
								{# Menu for public access #}
								<div class="text-end ">
									<ul class="nav nav-pills me-auto">
										<li class="nav-item">
											<a href={{ path('app_login')}} class="nav-link active px-2 mx-3">Connexion</a>
										</li>
										<li class="nav-item">
											<a href={{ path('app_register')}} class="nav-link active px-2">Inscription</a>
										</li>
									</ul>
								</div>
							{% endif %}
						</div>

					</div>
				</div>
			</nav>

			{# BODY #}
			{% block body %}{% endblock %}

			{# FOOTER #}
			<footer class="d-flex flex-wrap justify-content-between align-items-center py-5 px-3 my-5 border-top">
				<p class="col-md-4 mb-0 text-body-secondary">© 2023 HAVAIC Marija et PARSONNEAU Aurélie</p>

				<a href="{{ path('app_home') }}" class="col-md-4 d-flex align-items-center justify-content-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none">
					<img src={{ asset('images/pro-immo-portail_logo.png') }} alt="Logo" class="img-fluid w-25"/>
				</a>

				<ul class="nav col-md-4 justify-content-end">
					<li class="nav-item">
						<a href={{ path('app_home')}} class="nav-link px-2 text-body-secondary">Accueil</a>
					</li>
					<li class="nav-item">
						<a href={{ path('app_cookies')}} class="nav-link px-2 text-body-secondary">Cookies</a>
					</li>
					<li class="nav-item">
						<a href={{ path('app_cond_utilisation')}} class="nav-link px-2 text-body-secondary">Conditions Générales d'Utilisation</a>
					</li>
					<li class="nav-item">
						<a href={{ path('app_donnees')}} class="nav-link px-2 text-body-secondary">Politique Générale de Protection des Données</a>
					</li>
				</ul>
			</footer>

			{# JS SCRIPTS #}
			<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
			<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js" integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa" crossorigin="anonymous"></script>
		</body>
	</body>
</html>
